package ir_test

import (
	"testing"
	"time"

	"github.com/cswank/ir"
	"github.com/stretchr/testify/assert"
)

var (
	t1 = []time.Duration{9039000, 4486000, 579000, 1658000, 583000, 549000, 582000, 1659000, 583000, 548000, 583000, 1658000, 583000, 1658000, 583000, 550000, 582000, 550000, 582000, 550000, 583000, 1659000, 581000, 551000, 582000, 1660000, 581000, 552000, 581000, 551000, 582000, 1660000, 582000, 1659000, 583000, 550000, 581000, 551000, 582000, 551000, 581000, 551000, 580000, 552000, 581000, 551000, 582000, 1659000, 581000, 551000, 581000, 1661000, 581000, 1661000, 579000, 1661000, 581000, 1661000, 579000, 1663000, 579000, 1662000, 580000, 553000, 580000, 1661000, 578000, 39920000, 9046000, 2233000, 582000}
)

func TestIR(t *testing.T) {
	addr, cmd, err := ir.Command(t1)
	if !assert.NoError(t, err) {
		return
	}

	assert.Equal(t, uint8(0x35), addr)
	assert.Equal(t, uint8(0x40), cmd)
}
